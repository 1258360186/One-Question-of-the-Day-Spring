# 每日一题·春

## 第二十二天(AcWing)

### 62. 丑数

#### 题目

我们把只包含质因子 $2，3$ 和 $5$ 的数称作丑数（Ugly Number）。

例如 $6、8$ 都是丑数，但 $14$ 不是，因为它包含质因子 $7$。

求第 $n$ 个丑数的值。

#### 输入格式



#### 输出格式



#### 数据范围



#### 输入样例

```
5
```

#### 输出样例

```
5
```

#### 样例解释

```
注意：习惯上我们把 1 当做第一个丑数。
```

#### AC代码

```c++
class Solution {
public:
    int getUglyNumber(int n) {
        vector<int> q(1,1);
        int i=0,j=0,k=0;
        while(--n){
            int t = min(q[i]*2,min(q[j]*3,q[k]*5));
            q.push_back(t);
            if(t==q[i]*2) i++;
            if(t==q[j]*3) j++;
            if(t==q[k]*5) k++;
        }
        return q.back();
    }
};
```

#### 解题思路

> **多路归并**

>首先一个一个去验证是不是丑数一定不是最优的，直接将丑数一个一个求出来是时间复杂度最低的：
>第一个丑数一定是1，
>第二个丑数是前面所有丑数分别乘以2/3/5里面的大于已知最大丑数的最小值，即2
>第三个丑数同理，在2/3/5 4/6/10里面大于2的最小值是3
>第四个丑数同理，在2/3/5 4/6/10 6/9/15 里面大于3的最小值是4
>慢慢发现越来越多的计算是可以省去的，比如一开始的丑数1和2，对应的2/3/5 4/6/10在后面的对比中一定会被忽略的，所以能不能想办法把无用的计算过滤掉。
>
>设当前最大丑数是U
>每次计算的结果中，有一部分是小于等于U，另一部分是大于U，那么大于U里面最小的M就是下一个丑数了，那么这个丑数是怎么得来的呢，我们不再用之前的思路将前面所有的丑数进行计算，而是选定三个数U2/U3/U5，那么下一个U就=min(2U2,3U3,5*U5)。
>那么U2/U3/U5又是什么意思呢，我们定义U2乘以2后是下一个可能的丑数，U3乘以3后是下一个可能的丑数,U5乘以5后是下一个可能的丑数。所以每次求完丑数，都要将这三个“候选人”更新
>
>来源:[脆脆鲨](https://www.acwing.com/solution/content/1742/)
>

